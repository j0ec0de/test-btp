sap.ui.define(["sap/ui/core/BusyIndicator","sap/m/MessageToast","sap/m/Dialog","sap/m/Button","sap/m/ButtonType","sap/m/MessageBox","sap/ui/model/json/JSONModel","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/Text","sap/m/Sticky"],function(e,t,o,n,s,r,a,c,u,i,d,l){"use strict";return{show:function(){e.show(0);const o={orderID:"OR003"};jQuery.ajax({url:"/odata/v4/shop/",type:"GET",headers:{"X-CSRF-Token":"fetch"},success:function(n,s,a){const c=a.getResponseHeader("X-CSRF-Token");jQuery.ajax({url:"/odata/v4/shop/checkOrderStatus",type:"POST",contentType:"application/json",data:JSON.stringify(o),headers:{"X-CSRF-Token":c},success:function(o){e.hide();t.show("POST request successfully!");console.log("Response:",o)},error:function(t){e.hide();r.error(`Post action failed: ${t}`)}})},error:function(t){e.hide();r.error(`Request failed: ${t}`)}})},send:function(){e.show(0);jQuery.ajax({url:"/odata/v4/shop/Orders",type:"GET",contentType:"application/json",success:function(l){e.hide();console.log("Fetched Orders:",l.value);const p=l.value;p.sort(function(e,t){return e.customerName.localeCompare(t.customerName)});const h=new a(p);const m=new c({columns:[new u({header:new d({text:"Customer Name"})}),new u({header:new d({text:"Order ID"})}),new u({header:new d({text:"Total Price"})}),new u({header:new d({text:"Currency"})})],items:{path:"/",template:new i({cells:[new d({text:"{customerName}"}),new d({text:"{ID}"}),new d({text:"{totalPrice}"}),new d({text:"{currency_code}"})]})}});m.setModel(h);const f=new o({title:"Orders",contentWidth:"50rem",contentHeight:"30rem",content:[m],beginButton:new n({text:"Submit",type:s.Emphasized,press:function(){const o=h.getData();if(!o||o.length===0){t.show("No Data to submit");return}const n=o[0].ID;const s={orderID:n};e.show(0);jQuery.ajax({url:"/odata/v4/shop",type:"GET",headers:{"X-CSRF-Token":"fetch"},success:function(o,n,a){const c=a.getResponseHeader("X-CSRF-Token");jQuery.ajax({url:"/odata/v4/shop/checkPayloadStatus",type:"POST",contentType:"application/json",data:JSON.stringify(s),headers:{"X-CSRF-Token":c},success:function(o){e.hide();t.show(`Submit Success: ${o.value}`);f.close()},error:function(t){e.hide();r.error(`Submit Failed: ${t}`)}})},error:function(e){r.error(`Action Failed: ${e}`)}})}}),endButton:new n({text:"Cancel",press:function(){f.close()}}),afterClose:function(){f.destroy()}});f.open()},error:function(t,o,n){e.hide();r.error(`Failed: ${n}`)}})}}});
//# sourceMappingURL=CustomActions.js.map